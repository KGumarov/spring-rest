<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">



</head>
<body>
<div th:replace="fragments/modal_edit :: modal_edit"></div>
<div th:replace="fragments/modal_delete :: modal_delete"></div>

<header th:fragment="header">
    <div class="navbar navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="navbar-brand">
                <strong  sec:authentication="name"></strong>
                with roles:
                <span  sec:authorize="hasAuthority('ADMIN')">ADMIN</span>
                <span  sec:authorize="hasAuthority('USER')">USER</span>
            </div>
            <ul class="nav navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/logout}">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</header>

<main class="container-fluid">
    <div class="row vh-100">
        <div class="col-2 p-0 pt-3">
            <div class="list-group list-group-flush">
                <a href="/admin" class="list-group-item list-group-item-action active">
                    Admin
                </a>
                <a href="/user" class="list-group-item list-group-item-action">
                    User
                </a>
            </div>
        </div>
        <div class="col-10 bg-light p-4">
            <h1>Admin panel</h1>
            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <a class="nav-link active" id="home-tab" data-toggle="tab" href="#users" role="tab"
                       aria-controls="home" aria-selected="true">Users table</a>
                    <a class="nav-link" id="profile-tab" data-toggle="tab" href="#newuser" role="tab"
                       aria-controls="profile" aria-selected="false">New user</a>
                </div>
            </nav>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="users" role="tabpanel" aria-labelledby="users-tab">
                    <div class="container-fluid border rounded">
                        <h5 class="mt-3 mb-3">All users</h5>
                    </div>
                    <div class="container-fluid bg-white p-3">
                        <table class="table table-striped table-borderless">
                            <thead>
                            <tr class="border-top">
                                <th>id</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Age</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                            </thead>
                            <tbody id="body_users_table">
                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="tab-pane fade" id="newuser" role="tabpanel" aria-labelledby="newuser-tab">
                    <div class="container-fluid border rounded">
                        <h4>Add new user</h4>
                    </div>
                    <div class="p-2">
                        <input disabled class="form-control"
                               readonly
                               type="hidden"
                               name="id">
                    </div>

                    <div class="p-1">
                        <label><strong>First
                            name</strong></label>
                        <br/>
                        <input type="text"
                               class="form-control" name="firstName"
                               placeholder="First name">
                    </div>

                    <div class="p-2">
                        <label><strong>Last
                            name</strong></label>
                        <br/>
                        <input type="text"
                               class="form-control" name="lastName"
                               placeholder="Last name">
                    </div>

                    <div class="p-2">
                        <label><strong>Age</strong></label>
                        <br/>
                        <input type="number"
                               class="form-control" name="age"
                               placeholder="Age">
                    </div>

                    <div class="p-2">
                        <label><strong>Email</strong></label>
                        <br/>
                        <input type="email"
                               class="form-control" name="username"
                               placeholder="Email">
                    </div>

                    <div class="p-2">
                        <label><strong>Password</strong></label>
                        <br/>
                        <input type="password"

                               class="form-control" name="password"
                               placeholder="Password">
                    </div>
                    <div class="p-2">
                        <label for="user_roles_new_user">User roles (multiple
                            select):</label>
                        <br/>
                        <select required multiple="multiple" id="user_roles_new_user"
                                class="form-control" name="roles">
                        </select>
                    </div>
                    <div class="p-2">
                        <button type="button" id="button_new_user" class="btn btn-primary">Add new user</button>
                    </div>
                </div>


            </div>

        </div>
    </div>

</main>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script defer src="/js/main.js"></script>
<!--<script defer src="/js/modal_script.js"></script>-->
</body>
</html>